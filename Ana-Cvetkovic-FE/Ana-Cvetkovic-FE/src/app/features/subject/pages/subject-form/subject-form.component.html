<h3 *ngIf="edit">Edit Subject</h3>
<h3 *ngIf="!edit">Add Subject</h3>

<div class="col-lg-4 offset-lg-4 pb-5">

  <form [formGroup]="subjectForm" *ngIf="subjectForm" (ngSubmit)="onSubmit()">

    <div class="my-4">
      <a routerLink="/subject"><i class="bi bi-arrow-left-circle-fill"></i> Back to list</a>
    </div>

    <div class="mb-3 d-flex flex-column">
      <label for="name" class="form-label">Name</label>
      <input id="name" class="form-control" formControlName="name" />
      <p class="alert alert-danger" *ngIf="subjectForm.get('name').hasError('minlength')">
        Length is ({{subjectForm.get('name').errors.minlength.actualLength}}) less than required length
        ({{subjectForm.get('name').errors.minlength.requiredLength}})
      </p>
      <p class="alert alert-danger" *ngIf="subjectForm.get('name').hasError('maxLength')">
        Length is ({{subjectForm.get('name').errors.maxLength.actualLength}}) more than required length
        ({{subjectForm.get('name').errors.maxLength.requiredLength}})
      </p>
      <p class="alert alert-danger"
        *ngIf="subjectForm.get('name').hasError('required') && subjectForm.get('name').touched">
        Name is required
      </p>
    </div>

    <div class="mb-3 d-flex flex-column">
      <label for="description" class="form-label">Description</label>
      <textarea id="description" class="form-control" formControlName="description"></textarea>
      <p class="alert alert-danger" *ngIf="subjectForm.get('description').hasError('maxlength')">
        - Length is ({{subjectForm.get('description').errors.maxlength.actualLength}}) higher than max length
        - ({{subjectForm.get('description').errors.maxlength.requiredLength}})
      </p>
    </div>

    <div class="mb-3 d-flex flex-column">
      <label for="noOfESPB" class="form-label">Number of ESPB</label>
      <input type="number" id="noOfESPB" class="form-control" formControlName="noOfESPB" />
      <p class="alert alert-danger" *ngIf="subjectForm.get('noOfESPB').hasError('maxLength')">
        Length is ({{subjectForm.get('noOfESPB').errors.maxLength.actualLength}}) more than required length
        ({{subjectForm.get('noOfESPB').errors.maxLength.requiredLength}})
      </p>
      <p class="alert alert-danger"
        *ngIf="subjectForm.get('noOfESPB').hasError('required') && subjectForm.get('noOfESPB').touched">
        Number of ESPB is required
      </p>
    </div>

    <div class="mb-3 d-flex flex-column">
      <label for="yearOfStudy" class="form-label">Year of study</label>
      <input id="yearOfStudy" class="form-control" formControlName="yearOfStudy" />
      <p class="alert alert-danger" *ngIf="subjectForm.get('yearOfStudy').hasError('maxLength')">
        Length is ({{subjectForm.get('yearOfStudy').errors.maxLength.actualLength}}) more than required length
        ({{subjectForm.get('yearOfStudy').errors.maxLength.requiredLength}})
      </p>
      <p class="alert alert-danger"
        *ngIf="subjectForm.get('yearOfStudy').hasError('required') && subjectForm.get('yearOfStudy').touched">
        Year of study is required
      </p>
    </div>

    <div class="mb-3 d-flex flex-column">
      <label for="semester" class="form-label">Semester</label>
      <select id="semester" class="form-select" formControlName="semester">
        <option *ngFor="let val of getEnumKeys()" [ngValue]="val">
          {{ val }}
        </option>
      </select>
      <p class="alert alert-danger"
        *ngIf="subjectForm.get('semester').hasError('required') && subjectForm.get('semester').touched">
        Semester is required
      </p>
    </div>

    <button class="btn btn-primary w-100 mt-3" type="submit" [disabled]="!subjectForm.valid">Save</button>

  </form>
</div>
